#include "t6963.h"




#define DLYNS 10

// ------------------  ASCII字模的数据表 ------------------------ //
// 码表从0x20~0x7e                                                //
// 字库: C:\Documents and Settings\lee\桌面\晓奇LCD软件\Asc6X12E.dat 横向取模左高位//
// -------------------------------------------------------------- //
//unsigned char  ASC_MSK12[] =              // ASCII
//{
//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // - -
//	0x00,0x00,0x00,0x00,//1

//	0x00,0x10,0x10,0x10,0x10,0x10,0x00,0x00,  // -!-
//	0x10,0x00,0x00,0x00,//2

//	0x00,0x6C,0x48,0x48,0x00,0x00,0x00,0x00,  // -"-
//	0x00,0x00,0x00,0x00,//3

//	0x00,0x14,0x14,0x28,0x7C,0x28,0x7C,0x28,  // -#-
//	0x50,0x50,0x00,0x00,//4

//	0x00,0x10,0x38,0x40,0x40,0x38,0x48,0x70,  // -$-
//	0x10,0x10,0x00,0x00,//5

//	0x00,0x20,0x50,0x20,0x0C,0x70,0x08,0x14,  // -%-
//	0x08,0x00,0x00,0x00,//6

//	0x00,0x00,0x00,0x18,0x20,0x20,0x54,0x48,  // -&-
//	0x34,0x00,0x00,0x00,//7

//	0x00,0x10,0x10,0x10,0x10,0x00,0x00,0x00,  // -'-
//	0x00,0x00,0x00,0x00,//8

//	0x00,0x08,0x08,0x10,0x10,0x10,0x10,0x10,  // -(-
//	0x10,0x08,0x08,0x00,//9

//	0x00,0x20,0x20,0x10,0x10,0x10,0x10,0x10,  // -)-
//	0x10,0x20,0x20,0x00,//10

//	0x00,0x10,0x7C,0x10,0x28,0x28,0x00,0x00,  // -*-
//	0x00,0x00,0x00,0x00,//11

//	0x00,0x00,0x10,0x10,0x10,0xFC,0x10,0x10,  // -+-
//	0x10,0x00,0x00,0x00,//12

//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,  // -,-
//	0x10,0x30,0x20,0x00,//13

//	0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // ---
//	/* (8 X 16 , 宋体 )*/	
//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,/*".",0*/
//	/* (8 X 16 , 宋体 )*/
//	0x01,0x02,0x02,0x04,0x04,0x08,0x08,0x10,0x10,0x20,0x20,0x40,0x40,0x00,0x00,0x00,/*"/",1*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x18,0x24,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x24,0x18,0x00,0x00,0x00,0x00,/*"0",2*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x10,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,0x00,0x00,/*"1",3*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x3C,0x42,0x42,0x42,0x04,0x04,0x08,0x10,0x20,0x42,0x7E,0x00,0x00,0x00,0x00,/*"2",4*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x3C,0x42,0x42,0x04,0x18,0x04,0x02,0x02,0x42,0x44,0x38,0x00,0x00,0x00,0x00,/*"3",5*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x04,0x0C,0x14,0x24,0x24,0x44,0x44,0x7E,0x04,0x04,0x1E,0x00,0x00,0x00,0x00,/*"4",6*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x7E,0x40,0x40,0x40,0x58,0x64,0x02,0x02,0x42,0x44,0x38,0x00,0x00,0x00,0x00,/*"5",7*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x1C,0x24,0x40,0x40,0x58,0x64,0x42,0x42,0x42,0x24,0x18,0x00,0x00,0x00,0x00,/*"6",8*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x7E,0x44,0x44,0x08,0x08,0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,0x00,/*"7",9*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x3C,0x42,0x42,0x42,0x24,0x18,0x24,0x42,0x42,0x42,0x3C,0x00,0x00,0x00,0x00,/*"8",10*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x18,0x24,0x42,0x42,0x42,0x26,0x1A,0x02,0x02,0x24,0x38,0x00,0x00,0x00,0x00,/*"9",11*/
//	/* (8 X 16 , 宋体 )*/
//	0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,/*":",12*/
//	/* (8 X 16 , 宋体 )*/
//	
//	0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x18,  // -;-
//	0x30,0x20,0x00,0x00,//28

//	0x00,0x00,0x0C,0x10,0x60,0x80,0x60,0x10,  // -<-
//	0x0C,0x00,0x00,0x00,//29

//	0x00,0x00,0x00,0x00,0x7C,0x00,0x7C,0x00,  // -=-
//	0x00,0x00,0x00,0x00,//30

//	0x00,0x00,0xC0,0x20,0x18,0x04,0x18,0x20,  // ->-
//	0xC0,0x00,0x00,0x00,//31

//	0x00,0x00,0x18,0x24,0x04,0x08,0x10,0x00,  // -?-
//	0x30,0x00,0x00,0x00,//32

//	0x38,0x44,0x44,0x4C,0x54,0x54,0x4C,0x40,  // -@-
//	0x44,0x38,0x00,0x00,//33

//	0x00,0x30,0x10,0x28,0x28,0x28,0x7C,0x44,  // -A-
//	0xEC,0x00,0x00,0x00,

//	0x00,0xF8,0x44,0x44,0x78,0x44,0x44,0x44,  // -B-
//	0xF8,0x00,0x00,0x00,

//	0x00,0x3C,0x44,0x40,0x40,0x40,0x40,0x44,  // -C-
//	0x38,0x00,0x00,0x00,

//	0x00,0xF0,0x48,0x44,0x44,0x44,0x44,0x48,  // -D-
//	0xF0,0x00,0x00,0x00,

//	0x00,0xFC,0x44,0x50,0x70,0x50,0x40,0x44,  // -E-
//	0xFC,0x00,0x00,0x00,

//	0x00,0x7C,0x20,0x28,0x38,0x28,0x20,0x20,  // -F-
//	0x70,0x00,0x00,0x00,

//	0x00,0x3C,0x44,0x40,0x40,0x4C,0x44,0x44,  // -G-
//	0x38,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x44,0x7C,0x44,0x44,0x44,  // -H-
//	0xEC,0x00,0x00,0x00,

//	0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x10,  // -I-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x3C,0x08,0x08,0x08,0x48,0x48,0x48,  // -J-
//	0x30,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x48,0x50,0x70,0x48,0x44,  // -K-
//	0xE4,0x00,0x00,0x00,

//	0x00,0x70,0x20,0x20,0x20,0x20,0x24,0x24,  // -L-
//	0x7C,0x00,0x00,0x00,

//	0x00,0xEC,0x6C,0x6C,0x54,0x54,0x44,0x44,  // -M-
//	0xEC,0x00,0x00,0x00,

//	0x00,0xEC,0x64,0x64,0x54,0x54,0x54,0x4C,  // -N-
//	0xEC,0x00,0x00,0x00,

//	0x00,0x38,0x44,0x44,0x44,0x44,0x44,0x44,  // -O-
//	0x38,0x00,0x00,0x00,

//	0x00,0x78,0x24,0x24,0x24,0x38,0x20,0x20,  // -P-
//	0x70,0x00,0x00,0x00,

//	0x00,0x38,0x44,0x44,0x44,0x44,0x44,0x44,  // -Q-
//	0x38,0x1C,0x00,0x00,

//	0x00,0xF8,0x44,0x44,0x44,0x78,0x48,0x44,  // -R-
//	0xE0,0x00,0x00,0x00,

//	0x00,0x34,0x4C,0x40,0x38,0x04,0x04,0x64,  // -S-
//	0x58,0x00,0x00,0x00,

//	0x00,0xFC,0x90,0x10,0x10,0x10,0x10,0x10,  // -T-
//	0x38,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x44,0x44,0x44,0x44,0x44,  // -U-
//	0x38,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x44,0x28,0x28,0x28,0x10,  // -V-
//	0x10,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x44,0x54,0x54,0x54,0x54,  // -W-
//	0x28,0x00,0x00,0x00,

//	0x00,0xC4,0x44,0x28,0x10,0x10,0x28,0x44,  // -X-
//	0xC4,0x00,0x00,0x00,

//	0x00,0xEC,0x44,0x28,0x28,0x10,0x10,0x10,  // -Y-
//	0x38,0x00,0x00,0x00,

//	0x00,0x7C,0x44,0x08,0x10,0x10,0x20,0x44,  // -Z-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x38,0x20,0x20,0x20,0x20,0x20,0x20,  // -[-
//	0x20,0x20,0x38,0x00,

//	0x00,0x40,0x20,0x20,0x20,0x10,0x10,0x08,  // -\-
//	0x08,0x08,0x00,0x00,

//	0x00,0x38,0x08,0x08,0x08,0x08,0x08,0x08,  // -]-
//	0x08,0x08,0x38,0x00,

//	0x00,0x10,0x10,0x28,0x44,0x00,0x00,0x00,  // -^-
//	0x00,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // -_-
//	0x00,0x00,0x00,0xFC,

//	0x00,0x10,0x08,0x00,0x00,0x00,0x00,0x00,  // -`-
//	0x00,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x38,0x44,0x3C,0x44,0x44,  // -a-
//	0x3C,0x00,0x00,0x00,

//	0x00,0xC0,0x40,0x58,0x64,0x44,0x44,0x44,  // -b-
//	0xF8,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x3C,0x44,0x40,0x40,0x44,  // -c-
//	0x38,0x00,0x00,0x00,

//	0x00,0x0C,0x04,0x34,0x4C,0x44,0x44,0x44,  // -d-
//	0x3C,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x38,0x44,0x7C,0x40,0x40,  // -e-
//	0x3C,0x00,0x00,0x00,

//	0x00,0x1C,0x20,0x7C,0x20,0x20,0x20,0x20,  // -f-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x34,0x4C,0x44,0x44,0x44,  // -g-
//	0x3C,0x04,0x38,0x00,

//	0x00,0xC0,0x40,0x58,0x64,0x44,0x44,0x44,  // -h-
//	0xEC,0x00,0x00,0x00,

//	0x00,0x10,0x00,0x70,0x10,0x10,0x10,0x10,  // -i-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x10,0x00,0x78,0x08,0x08,0x08,0x08,  // -j-
//	0x08,0x08,0x70,0x00,

//	0x00,0xC0,0x40,0x5C,0x48,0x70,0x50,0x48,  // -k-
//	0xDC,0x00,0x00,0x00,

//	0x00,0x30,0x10,0x10,0x10,0x10,0x10,0x10,  // -l-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xE8,0x54,0x54,0x54,0x54,  // -m-
//	0x54,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xD8,0x64,0x44,0x44,0x44,  // -n-
//	0xEC,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x38,0x44,0x44,0x44,0x44,  // -o-
//	0x38,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xD8,0x64,0x44,0x44,0x44,  // -p-
//	0x78,0x40,0xE0,0x00,

//	0x00,0x00,0x00,0x34,0x4C,0x44,0x44,0x44,  // -q-
//	0x3C,0x04,0x0C,0x00,

//	0x00,0x00,0x00,0x6C,0x30,0x20,0x20,0x20,  // -r-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x00,0x00,0x3C,0x44,0x38,0x04,0x44,  // -s-
//	0x78,0x00,0x00,0x00,

//	0x00,0x00,0x20,0x7C,0x20,0x20,0x20,0x20,  // -t-
//	0x1C,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xCC,0x44,0x44,0x44,0x4C,  // -u-
//	0x34,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xEC,0x44,0x44,0x28,0x28,  // -v-
//	0x10,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xEC,0x44,0x54,0x54,0x54,  // -w-
//	0x28,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xCC,0x48,0x30,0x30,0x48,  // -x-
//	0xCC,0x00,0x00,0x00,

//	0x00,0x00,0x00,0xEC,0x44,0x24,0x28,0x18,  // -y-
//	0x10,0x10,0x78,0x00,

//	0x00,0x00,0x00,0x7C,0x48,0x10,0x20,0x44,  // -z-
//	0x7C,0x00,0x00,0x00,

//	0x00,0x08,0x10,0x10,0x10,0x10,0x20,0x10,  // -{-
//	0x10,0x10,0x08,0x00,

//	0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,  // -|-
//	0x10,0x10,0x00,0x00,

//	0x00,0x20,0x10,0x10,0x10,0x10,0x08,0x10,  // -}-
//	0x10,0x10,0x20,0x00,

//	0x00,0x00,0x00,0x00,0x00,0x24,0x58,0x00,  // -~-
//	0x00,0x00,0x00,0x00,
//};

// ------------------  ASCII字模的数据表 ------------------------ //
// 码表从0x20~0x7e                                                //
// 字库: F:\胶体金测试项目开发\Software\Zimo\lcd汉字取模软件1212\Asc8X16E.dat 横向取模左高位//
// -------------------------------------------------------------- //
unsigned char ASCII8x16[] =              // ASCII
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // - -
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x18,0x3C,0x3C,0x3C,0x18,0x18,  // -!-
	0x18,0x00,0x18,0x18,0x00,0x00,0x00,0x00,

	0x00,0x66,0x66,0x66,0x24,0x00,0x00,0x00,  // -"-
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x6C,0x6C,0xFE,0x6C,0x6C,  // -#-
	0x6C,0xFE,0x6C,0x6C,0x00,0x00,0x00,0x00,

	0x18,0x18,0x7C,0xC6,0xC2,0xC0,0x7C,0x06,  // -$-
	0x86,0xC6,0x7C,0x18,0x18,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0xC2,0xC6,0x0C,0x18,  // -%-
	0x30,0x60,0xC6,0x86,0x00,0x00,0x00,0x00,

	0x00,0x00,0x38,0x6C,0x6C,0x38,0x76,0xDC,  // -&-
	0xCC,0xCC,0xCC,0x76,0x00,0x00,0x00,0x00,

	0x00,0x30,0x30,0x30,0x60,0x00,0x00,0x00,  // -'-
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x0C,0x18,0x30,0x30,0x30,0x30,  // -(-
	0x30,0x30,0x18,0x0C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x30,0x18,0x0C,0x0C,0x0C,0x0C,  // -)-
	0x0C,0x0C,0x18,0x30,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x66,0x3C,0xFF,  // -*-
	0x3C,0x66,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x7E,  // -+-
	0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // -,-
	0x00,0x18,0x18,0x18,0x30,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"-",0*/
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x00,0x00,0x00,0x00,/*".",1*/
	0x00,0x00,0x00,0x06,0x06,0x0C,0x0C,0x18,0x18,0x30,0x30,0x60,0x60,0x00,0x00,0x00,/*"/",2*/
	0x00,0x00,0x00,0x1E,0x33,0x37,0x37,0x33,0x3B,0x3B,0x33,0x1E,0x00,0x00,0x00,0x00,/*"0",3*/
	0x00,0x00,0x00,0x0C,0x1C,0x7C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x00,0x00,0x00,0x00,/*"1",4*/
	0x00,0x00,0x00,0x3C,0x66,0x66,0x06,0x0C,0x18,0x30,0x60,0x7E,0x00,0x00,0x00,0x00,/*"2",5*/
	0x00,0x00,0x00,0x3C,0x66,0x66,0x06,0x1C,0x06,0x66,0x66,0x3C,0x00,0x00,0x00,0x00,/*"3",6*/
	0x00,0x00,0x00,0x30,0x30,0x36,0x36,0x36,0x66,0x7F,0x06,0x06,0x00,0x00,0x00,0x00,/*"4",7*/
	0x00,0x00,0x00,0x7E,0x60,0x60,0x60,0x7C,0x06,0x06,0x0C,0x78,0x00,0x00,0x00,0x00,/*"5",8*/
	0x00,0x00,0x00,0x1C,0x18,0x30,0x7C,0x66,0x66,0x66,0x66,0x3C,0x00,0x00,0x00,0x00,/*"6",9*/
	0x00,0x00,0x00,0x7E,0x06,0x0C,0x0C,0x18,0x18,0x30,0x30,0x30,0x00,0x00,0x00,0x00,/*"7",10*/
	0x00,0x00,0x00,0x3C,0x66,0x66,0x76,0x3C,0x6E,0x66,0x66,0x3C,0x00,0x00,0x00,0x00,/*"8",11*/
	0x00,0x00,0x00,0x3C,0x66,0x66,0x66,0x66,0x3E,0x0C,0x18,0x38,0x00,0x00,0x00,0x00,/*"9",12*/
	0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x00,0x00,0x00,0x1C,0x1C,0x00,0x00,0x00,0x00,/*":",13*/


	0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,  // -;-
	0x00,0x18,0x18,0x30,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x06,0x0C,0x18,0x30,0x60,  // -<-
	0x30,0x18,0x0C,0x06,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00,  // -=-
	0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x60,0x30,0x18,0x0C,0x06,  // ->-
	0x0C,0x18,0x30,0x60,0x00,0x00,0x00,0x00,

	0x00,0x00,0x7C,0xC6,0xC6,0x0C,0x18,0x18,  // -?-
	0x18,0x00,0x18,0x18,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x7C,0xC6,0xC6,0xDE,0xDE,  // -@-
	0xDE,0xDC,0xC0,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x10,0x38,0x6C,0xC6,0xC6,0xFE,  // -A-
	0xC6,0xC6,0xC6,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0xFC,0x66,0x66,0x66,0x7C,0x66,  // -B-
	0x66,0x66,0x66,0xFC,0x00,0x00,0x00,0x00,

	0x00,0x00,0x3C,0x66,0xC2,0xC0,0xC0,0xC0,  // -C-
	0xC0,0xC2,0x66,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0xF8,0x6C,0x66,0x66,0x66,0x66,  // -D-
	0x66,0x66,0x6C,0xF8,0x00,0x00,0x00,0x00,

	0x00,0x00,0xFE,0x66,0x62,0x68,0x78,0x68,  // -E-
	0x60,0x62,0x66,0xFE,0x00,0x00,0x00,0x00,

	0x00,0x00,0xFE,0x66,0x62,0x68,0x78,0x68,  // -F-
	0x60,0x60,0x60,0xF0,0x00,0x00,0x00,0x00,

	0x00,0x00,0x3C,0x66,0xC2,0xC0,0xC0,0xDE,  // -G-
	0xC6,0xC6,0x66,0x3A,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xC6,0xC6,0xC6,0xFE,0xC6,  // -H-
	0xC6,0xC6,0xC6,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x3C,0x18,0x18,0x18,0x18,0x18,  // -I-
	0x18,0x18,0x18,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x1E,0x0C,0x0C,0x0C,0x0C,0x0C,  // -J-
	0xCC,0xCC,0xCC,0x78,0x00,0x00,0x00,0x00,

	0x00,0x00,0xE6,0x66,0x6C,0x6C,0x78,0x78,  // -K-
	0x6C,0x66,0x66,0xE6,0x00,0x00,0x00,0x00,

	0x00,0x00,0xF0,0x60,0x60,0x60,0x60,0x60,  // -L-
	0x60,0x62,0x66,0xFE,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xEE,0xFE,0xFE,0xD6,0xC6,  // -M-
	0xC6,0xC6,0xC6,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xE6,0xF6,0xFE,0xDE,0xCE,  // -N-
	0xC6,0xC6,0xC6,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x38,0x6C,0xC6,0xC6,0xC6,0xC6,  // -O-
	0xC6,0xC6,0x6C,0x38,0x00,0x00,0x00,0x00,

	0x00,0x00,0xFC,0x66,0x66,0x66,0x7C,0x60,  // -P-
	0x60,0x60,0x60,0xF0,0x00,0x00,0x00,0x00,

	0x00,0x00,0x7C,0xC6,0xC6,0xC6,0xC6,0xC6,  // -Q-
	0xC6,0xD6,0xDE,0x7C,0x0C,0x0E,0x00,0x00,

	0x00,0x00,0xFC,0x66,0x66,0x66,0x7C,0x6C,  // -R-
	0x66,0x66,0x66,0xE6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x7C,0xC6,0xC6,0x60,0x38,0x0C,  // -S-
	0x06,0xC6,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x7E,0x7E,0x5A,0x18,0x18,0x18,  // -T-
	0x18,0x18,0x18,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xC6,0xC6,0xC6,0xC6,0xC6,  // -U-
	0xC6,0xC6,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xC6,0xC6,0xC6,0xC6,0xC6,  // -V-
	0xC6,0x6C,0x38,0x10,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xC6,0xC6,0xC6,0xC6,0xD6,  // -W-
	0xD6,0xFE,0x6C,0x6C,0x00,0x00,0x00,0x00,

	0x00,0x00,0xC6,0xC6,0x6C,0x6C,0x38,0x38,  // -X-
	0x6C,0x6C,0xC6,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x66,0x66,0x66,0x66,0x3C,0x18,  // -Y-
	0x18,0x18,0x18,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0xFE,0xC6,0x86,0x0C,0x18,0x30,  // -Z-
	0x60,0xC2,0xC6,0xFE,0x00,0x00,0x00,0x00,

	0x00,0x00,0x3C,0x30,0x30,0x30,0x30,0x30,  // -[-
	0x30,0x30,0x30,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x80,0xC0,0xE0,0x70,0x38,  // -\-
	0x1C,0x0E,0x06,0x02,0x00,0x00,0x00,0x00,

	0x00,0x00,0x3C,0x0C,0x0C,0x0C,0x0C,0x0C,  // -]-
	0x0C,0x0C,0x0C,0x3C,0x00,0x00,0x00,0x00,

	0x10,0x38,0x6C,0xC6,0x00,0x00,0x00,0x00,  // -^-
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,  // -_-
	0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,

/*	0x30,0x30,0x18,0x00,0x00,0x00,0x00,0x00,  // -`-
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
*/	

	0x00,0x10,0x38,0x54,0x92,0x10,0x10,0x10,  // -自定义 -
	0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x78,0x0C,0x7C,  // -a-
	0xCC,0xCC,0xCC,0x76,0x00,0x00,0x00,0x00,

	0x00,0x00,0xE0,0x60,0x60,0x78,0x6C,0x66,  // -b-
	0x66,0x66,0x66,0xDC,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x7C,0xC6,0xC0,  // -c-
	0xC0,0xC0,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x1C,0x0C,0x0C,0x3C,0x6C,0xCC,  // -d-
	0xCC,0xCC,0xCC,0x76,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x7C,0xC6,0xFE,  // -e-
	0xC0,0xC0,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x38,0x6C,0x64,0x60,0xF0,0x60,  // -f-
	0x60,0x60,0x60,0xF0,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x76,0xCC,0xCC,  // -g-
	0xCC,0xCC,0xCC,0x7C,0x0C,0xCC,0x78,0x00,

	0x00,0x00,0xE0,0x60,0x60,0x6C,0x76,0x66,  // -h-
	0x66,0x66,0x66,0xE6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x18,0x18,0x00,0x38,0x18,0x18,  // -i-
	0x18,0x18,0x18,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x06,0x06,0x00,0x0E,0x06,0x06,  // -j-
	0x06,0x06,0x06,0x06,0x66,0x66,0x3C,0x00,

	0x00,0x00,0xE0,0x60,0x60,0x66,0x6C,0x78,  // -k-
	0x78,0x6C,0x66,0xE6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x38,0x18,0x18,0x18,0x18,0x18,  // -l-
	0x18,0x18,0x18,0x3C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xEC,0xFE,0xD6,  // -m-
	0xD6,0xD6,0xD6,0xD6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xDC,0x66,0x66,  // -n-
	0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x7C,0xC6,0xC6,  // -o-
	0xC6,0xC6,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xDC,0x66,0x66,  // -p-
	0x66,0x66,0x66,0x7C,0x60,0x60,0xF0,0x00,

	0x00,0x00,0x00,0x00,0x00,0x76,0xCC,0xCC,  // -q-
	0xCC,0xCC,0xCC,0x7C,0x0C,0x0C,0x1E,0x00,

	0x00,0x00,0x00,0x00,0x00,0xDC,0x76,0x62,  // -r-
	0x60,0x60,0x60,0xF0,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x7C,0xC6,0x60,  // -s-
	0x38,0x0C,0xC6,0x7C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x10,0x30,0x30,0xFC,0x30,0x30,  // -t-
	0x30,0x30,0x36,0x1C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xCC,0xCC,0xCC,  // -u-
	0xCC,0xCC,0xCC,0x76,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0x66,0x66,0x66,  // -v-
	0x66,0x66,0x3C,0x18,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xC6,0xC6,0xC6,  // -w-
	0xD6,0xD6,0xFE,0x6C,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xC6,0x6C,0x38,  // -x-
	0x38,0x38,0x6C,0xC6,0x00,0x00,0x00,0x00,

	0x00,0x00,0x00,0x00,0x00,0xC6,0xC6,0xC6,  // -y-
	0xC6,0xC6,0xC6,0x7E,0x06,0x0C,0xF8,0x00,

	0x00,0x00,0x00,0x00,0x00,0xFE,0xCC,0x18,  // -z-
	0x30,0x60,0xC6,0xFE,0x00,0x00,0x00,0x00,

	0x00,0x00,0x0E,0x18,0x18,0x18,0x70,0x18,  // -{-
	0x18,0x18,0x18,0x0E,0x00,0x00,0x00,0x00,

	0x00,0x00,0x18,0x18,0x18,0x18,0x00,0x18,  // -|-
	0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,

	0x00,0x00,0x70,0x18,0x18,0x18,0x0E,0x18,  // -}-
	0x18,0x18,0x18,0x70,0x00,0x00,0x00,0x00,
	
	0x00,0x00,0x76,0xDC,0x00,0x00,0x00,0x00,  // -~-
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

//// T6963's command
#define	SET_CURSOR_POINTER	   0x21
#define	SET_OFFSET_REGISTER	   0x22
#define	SET_ADDRESS_POINTER	   0x24

#define	SET_TEXT_HOME_ADDRESS	    0x40
#define	SET_TEXT_AREA				0x41
#define	SET_GRAPHIC_HOME_ADDRESS	0x42
#define	SET_GRAPHIC_AREA	   		0x43

#define	OR_MODE	        0x80
#define	EXOR_MODE       0x81
#define	AND_MODE	    0x83
#define	TEXT_ATTRIBUTE_MODE	   0x84
#define	INTERNAL_CGROM_MODE	   0x80
#define	EXTERNAL_CGROM_MODE	   0x90

#define	DISP_OFF	           0x90
#define	CURSORON_BLINKOFF	   0x92
#define	CURSOROFF_BLINKON	   0x93
#define	TEXTON_GRAPHICOFF	   0x94
#define	TEXTOFF_GRAPHICON	   0x98
#define	TEXTON_GRAPHICON	   0x9c

#define	CURSOR_LINE1	   0xA0
#define	CURSOR_LINE2	   0xA1
#define	CURSOR_LINE3	   0xA2
#define	CURSOR_LINE4	   0xA3
#define	CURSOR_LINE5	   0xA4
#define	CURSOR_LINE6	   0xA5
#define	CURSOR_LINE7	   0xA6
#define	CURSOR_LINE8	   0xA7

#define	DATA_AUTO_WRITE	   0xB0
#define	DATA_AUTO_READ	   0xB1
#define AUTO_RESET   	   0xB2

#define DATA_WRITE_IADP	   0xC0
#define DATA_READ_IADP	   0xC1
#define DATA_WRITE_DADP	   0xC2
#define DATA_READ_DADP	   0xC3
#define DATA_WRITE_NADP	   0xC4
#define DATA_READ_NADP	   0xC5	

#define SCREEN_PEEK   	   0xE0
#define SCREEN_COPY   	   0xE8

//设置前景色背景色指令
#define SOFT_START 			0x6A   // 软件控制前景色/背景色
#define SET_FC 				0x6B   // 设置前景色
#define SET_BC 				0x6C   // 设置背景色

#define START				0xff   // 软件设置前景色功能开启
#define OFF					0x00   // 软件设置前景色功能关闭

//#define LCD_RST(x)	 
//#define T6963_FS(x)	 


/****************************************************************************
* 延迟（Dealy ）子程序
****************************************************************************/
//static void  Delay (int counter)
//{
//  for(; counter != 0; counter--);
//}

static void Delayus(int counter)
{
	for(;counter>0;counter--);
}

static void Delayms(int counter)
{
	int i,j,k;
	for(j=0;j<counter;j++)
	{
		for(i=0;i<800;i++)
		{
			for(k=0;k<5;k++);
		}
	}
}


//void dspwrkpage(void)
//{
//    
//}

void wtdat2fio2pin0(uint8_t data)
{
//    FIO_ByteSetValue(2,0,data);
	GPIO_Byte_TypeDef *pFIO = (GPIO_Byte_TypeDef *)LPC_GPIO2;
	pFIO->FIOPIN[0] = data;
}


/*-------------底层时序部分，客户需移植部分-------------*/
//--------------- 8080时序,写指令 ---------------------//
void FSMC_WriteCMD(uint8_t cmd)   // 写入指令
{
//	*((uint8_t*)(LCD_BASE+1)) = cmd;
	OS_ENTER_CRITICAL();

	// GPIO 模式（51单片机可参考此模式）
	LCDBUSOUT();
	Delayus(DLYNS);
	// RD = 1;
	LCDRDON();
	Delayus(DLYNS);
	// CS=0;
	LCDCSOFF();
	Delayus(DLYNS);
	// A0=1;
	LCDA0ON();
	Delayus(DLYNS);
	// WR=0;
	LCDWROFF();
	Delayus(DLYNS);
	// DBUS=cmd;

	wtdat2fio2pin0(cmd);

	Delayus(DLYNS);
	// WR=1;
	LCDWRON();
	Delayus(DLYNS);
	// CS=1;
	LCDCSON();
	Delayus(DLYNS);	
	LCDBUSIN();
	OS_EXIT_CRITICAL();
}
  


//--------------- 8080时序,写数据 ---------------------//
void FSMC_WriteData(uint8_t data)   // 写入数据
{
//	*((uint8_t*)(LCD_BASE)) = data;
	OS_ENTER_CRITICAL();

	// GPIO 模式（51单片机可参考此模式）
	LCDBUSOUT();
	Delayus(DLYNS);
	// RD = 1;
	LCDRDON();
	Delayus(DLYNS);
	// CS=0;
	LCDCSOFF();
	Delayus(DLYNS);
	// A0=0;
	LCDA0OFF();
	Delayus(DLYNS);
	// WR=0;
	LCDWROFF();
	Delayus(DLYNS);
	// DBUS=data;

//	LCDBUS = data;
	wtdat2fio2pin0(data);

	Delayus(DLYNS);
	// WR=1;
	LCDWRON();
	Delayus(DLYNS);
	// CS=1;
	LCDCSON();
	Delayus(DLYNS);
	LCDBUSIN();
	OS_EXIT_CRITICAL();
}

//--------------- 8080时序,读状态 ---------------------//
uint8_t FSMC_ReadStatus(void)
{ 
	uint8_t data;
//    return *((uint8_t*)(LCD_BASE+1));
	OS_ENTER_CRITICAL();

	// GPIO 模式（51单片机可参考此模式）
	LCDBUSIN();
	Delayus(DLYNS);
	// WR = 1;
	LCDWRON();
	Delayus(DLYNS);
	// CS=0;
	LCDCSOFF();
	Delayus(DLYNS);
	// A0=1;
 	LCDA0ON();
	Delayus(DLYNS);
	// RD=0;
	LCDRDOFF();
	Delayus(DLYNS);
	// data=DBUS;
	data=LCDBUS;
	Delayus(DLYNS);
	// RD=1;
	LCDRDON();
	Delayus(DLYNS);
	// CS=1;
	LCDCSON();
	Delayus(DLYNS);

	OS_EXIT_CRITICAL();
		
	return data;
}
//--------------- 8080时序,读数据 ---------------------//
uint8_t FSMC_ReadData(void)
{ 
	uint8_t data;
//    return *((uint8_t*)(LCD_BASE));
	OS_ENTER_CRITICAL();
		
	// GPIO 模式（51单片机可参考此模式）
	LCDBUSIN();
	Delayus(DLYNS);
	// WR = 1;
	LCDWRON();
	Delayus(DLYNS);
	// CS=0;
	LCDCSOFF();
	Delayus(DLYNS);
	// A0=0;
	LCDA0OFF();
	Delayus(DLYNS);
	// RD=0;
	LCDRDOFF();
	Delayus(DLYNS);
	// data=DBUS;
	data = LCDBUS;
	Delayus(DLYNS);
	// RD=1;
	LCDRDON();
	Delayus(DLYNS);
	// CS=1; 
	LCDCSON(); 
	Delayus(DLYNS);
	
	OS_EXIT_CRITICAL();

	return data; 
}


// 设置前景色
void SetForeColor(uint16_t color)
{
	uint8_t colorh,colorl;

	colorl = color & 0xff;
	colorh = color>>8;
	FSMC_WriteCMD(SET_FC);
	FSMC_WriteData(colorl);	
	FSMC_WriteData(colorh);
}

// 设置背景色
void SetBackColor(uint16_t color)
{
	uint8_t colorh,colorl;

	colorl = color & 0xff;
	colorh = color>>8;
	FSMC_WriteCMD(SET_BC);
	FSMC_WriteData(colorl);	
	FSMC_WriteData(colorh);
}

// 软件设置前景色/背景色功能开关函数
void SoftColorControl(uint8_t data)
{
	FSMC_WriteCMD(SOFT_START);
	FSMC_WriteData(data);
}


//----以下为LCD基本函数部分---------//
//指令&数据读写状态
static void T6963_RWCheck(void)
{
	while((FSMC_ReadStatus() & 0x03) != 0x03);
}

//数据自动写状态
void T6963_AutoWrite(uint8_t Data)
{
	while((FSMC_ReadStatus() & 0x08) != 0x08);
	FSMC_WriteData(Data);

}

//屏读/屏考贝出错状态
void T6963_ScreenCheck(void)
{      
	while(FSMC_ReadStatus() & 0x40);      //1出错,0正确
}

//写数据
static void T6963_WriteData(uint8_t Data)                        
{ 
	T6963_RWCheck();
	FSMC_WriteData(Data);
}

//读数据
//static uint8_t T6963_ReadData(void)
//{
//	T6963_RWCheck();	 
//	return FSMC_ReadData();
//}

//写指令
static void T6963_WriteCMD0(uint8_t cmd)                  
{
	T6963_RWCheck();	 
	FSMC_WriteCMD(cmd);
} 

//写指令1
static void T6963_WriteCMD1(uint8_t para,uint8_t cmd)
{
	T6963_WriteData(para); 
	T6963_WriteCMD0(cmd);
}

//写指令2
static void T6963_WriteCMD2(uint8_t par1,uint8_t par2,uint8_t cmd)
{
	T6963_WriteData(par1);
	T6963_WriteData(par2);  
	T6963_WriteCMD0(cmd);
}

// 设置读/写的开始地址 
void T6963_SetAddressPointer(uint8_t x,uint8_t y)
{
	uint16_t temp;
	temp = y*0x20+x;
	T6963_WriteCMD2(temp&0xff,temp/256,SET_ADDRESS_POINTER);
}

// 写入数据，地址自动加1
void T6963_WriteDispData(uint8_t data)
{
	T6963_WriteCMD1(data,DATA_WRITE_IADP);
}

//清屏
void T6963_LCDClear(void)
{
	uint16_t i;

	T6963_SetAddressPointer(0x00,0x00);     // 设定指针地址为0
	T6963_WriteCMD0(DATA_AUTO_WRITE);       //Set Data Auto Write
		
	for(i=0;i<0x2000;i++)
	{
		T6963_AutoWrite(0x00);
	}
	T6963_WriteCMD0(AUTO_RESET);            // 自动复位
}

// PC1为RST脚
void T6963_LCDReset(void)
{
//	LCD_RST(1); //置1  LCDRST = 1;
	LCDRSTON();
	Delayms(10);
//	LCD_RST(0); //清0  LCDRST = 0;
	LCDRSTOFF();
	Delayms(10);
//	LCD_RST(1); //置1  LCDRST = 1;
	LCDRSTON();
	Delayms(10);
}

//初始化
void T6963_Init(void)
{
	LCDRDON();
	LCDWRON();
	LCDCSON();
	LCDA0ON();
	LCDRSTON();
    LCDCOFF();
    
	T6963_LCDReset();

	T6963_WriteCMD2(0, 0, SET_TEXT_HOME_ADDRESS);       /*设置文本显示区首地址*/    
	T6963_WriteCMD2(0x20, 0, SET_TEXT_AREA);            /*设置文本显示区宽度*/
	T6963_WriteCMD2(0x80, 0, SET_GRAPHIC_HOME_ADDRESS); /*设置图形显示区首地址*/
	T6963_WriteCMD2(0x20, 0, SET_GRAPHIC_AREA);         /*设置图形显示区宽度*/

	T6963_WriteCMD0(CURSOR_LINE2);                      /*设置光标的形状为 2行*/
	T6963_WriteCMD0(OR_MODE);                           /*CG ROM 方式，或 */
	T6963_WriteCMD0(TEXTOFF_GRAPHICON);                 /*显示方式：图形方式开,文本方式关*/	
	T6963_LCDClear();                                   /*清屏*/
}


/*===================================================================================*/
/*Function:显示8*16英文字母                                                          */
/*Input   :                                                                          */
/*          x:在x列显示                                                              */
/*          y:在y行显示                                                              */
/*Output  : None                                                                     */
/*===================================================================================*/
void T6963_DisplayEng16(uint8_t y,uint8_t x,char *str)
{
	uint8_t C1;
	uint8_t i,j,uLen,uRow,uCol;

	uLen=0;
	i=0;
	uRow=y*8;
	uCol=x*2;
	T6963_SetAddressPointer(uCol,uRow);
	while(str[uLen]!=0)                      /*获得*str字符串的长度.                 */
	{
		uLen++;
	}
	while(i<uLen)
	{
		C1=str[i];
		if(C1<128)                           /*是否是ASCII字符                       */       
		{
			for(j=0;j<16;j++)
			{
				T6963_WriteCMD0(DATA_AUTO_WRITE);
				if(C1>=0x20)                 /*是否是可显示字符                      */
				{
					T6963_WriteData(ASCII8x16[(C1-0x20)*16+j]);
				}
				else
					T6963_WriteData(0x00);
				T6963_WriteCMD0(AUTO_RESET);//坐标后移
				T6963_SetAddressPointer(uCol,uRow+j+1);				
			}
			if(C1!=0x08)uCol++;
		}
		T6963_SetAddressPointer(uCol,uRow);
		i++;
	}
}
/*===================================================================================*/
/*Function:显示8*16英文字母                                                          */
/*Input   :                                                                          */
/*          x:在x列显示                                                              */
/*          y:在y行显示                                                              */
/*Output  : None                                                                     */
/*===================================================================================*/
void T6963_DisplayEng16A(uint8_t y,uint8_t x,char *str)
{
	uint8_t C1;
	uint8_t i,j,uLen,uRow,uCol;

	uLen=0;
	i=0;
	uRow=y;
	uCol=x;
	T6963_SetAddressPointer(uCol,uRow);
	while(str[uLen]!=0)                      /*获得*str字符串的长度.                 */
	{
		uLen++;
	}
	while(i<uLen)
	{
		C1=str[i];
		if(C1<128)                           /*是否是ASCII字符                       */       
		{
			for(j=0;j<16;j++)
			{
				T6963_WriteCMD0(DATA_AUTO_WRITE);
				if(C1>=0x20)                 /*是否是可显示字符                      */
				{
					T6963_WriteData(ASCII8x16[(C1-0x20)*16+j]);
				}	
				else
					T6963_WriteData(0x00);
				T6963_WriteCMD0(AUTO_RESET);//坐标后移
				T6963_SetAddressPointer(uCol,uRow+j+1);				
			}
			if(C1!=0x08)uCol++;
		}
		T6963_SetAddressPointer(uCol,uRow);
		i++;
	}
}


/*==================================================================*/
/*Function:显示单个6*12的英文字母                                       */
/*Input   :                                                         */
/*          x:在x列显示 0--29                                       */
/*          y:在y行显示 5--120                                      */
/*Output  : None                                                    */
/*==================================================================*/
void T6963_Display12(uint8_t y,uint8_t x,uint8_t str)
{
	uint8_t  j,uRow,uCol;
	str=str+0x30;
	uRow=y;
	uCol=x;
	T6963_SetAddressPointer(uCol,uRow);
	for(j=0;j<12;j++)
	{
		T6963_WriteCMD0(AUTO_RESET);
//		T6963_WriteData(ASC_MSK12[(str-0x20)*12+j]);
		T6963_WriteCMD0(AUTO_RESET);
		T6963_SetAddressPointer(uCol,uRow+j+1);
	}
}


/*===================================================================================*/
/*Function: 显示单个16*12的汉字                                                      */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN12(uint8_t y,uint8_t x,uint8_t *string)
{
	uint8_t  i,j;
    for(i=0;i<12;i++)                      /*12行                                    */
    {
       for(j=0;j<2;j++)                   /*每行2个字节                              */
       {
          T6963_SetAddressPointer(j+x,y*8+i);
          T6963_WriteDispData(string[i*2+j]);
       }
    }
}

/*===================================================================================*/
/*Function: 显示n个16*12的汉字                                                       */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN12n(uint8_t y,uint8_t x,uint8_t n,uint8_t *string)
{
	uint8_t  i,j,k;
	for(k=0;k<n;k++)
	{
	    for(i=0;i<12;i++)                      /*12行                                    */
	    {
	        for(j=0;j<2;j++)                   /*每行2个字节                             */
	        {
	           T6963_SetAddressPointer(j+x+2*k,y*8+i);
	           T6963_WriteDispData(string[i*2+j+24*k]);
	        }
	    }
	}
}

/*===================================================================================*/
/*Function: 显示单个16*16汉字                                                        */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN16(uint8_t y,uint8_t x,uint8_t *string)
{
	uint8_t i,j;
    for(i=0;i<16;i++)
    {
      	for(j=0;j<2;j++)
        {
            T6963_SetAddressPointer(j+x,y*8+i);    
            T6963_WriteDispData(string[i*2+j]);    
        }        
    }
}

/*===================================================================================*/
/*Function: 显示单个24*24汉字                                                         */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN24(uint8_t y,uint8_t x,uint8_t *string)
{
	uint8_t i,j;
    for(i=0;i<24;i++)
    {
      	for(j=0;j<3;j++)
        {
            T6963_SetAddressPointer(j+x,y*8+i);    
            T6963_WriteDispData(string[i*3+j]);    
        }        
    }
}

/*===================================================================================*/
/*Function: 显示n个16*16汉字                                                         */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN16nA(uint8_t y,uint8_t x,uint8_t n,uint8_t *string)
{
	uint8_t i,j,k;

	x=x;
	for(k=0;k<n;k++)
	{
	    for(i=0;i<16;i++)
	    {
	        for(j=0;j<2;j++)
	        {
	           	T6963_SetAddressPointer(j+x+2*k,y+i);    
	            T6963_WriteDispData(string[i*2+j+32*k]);    
	        }        
	    }
	}
}
/*===================================================================================*/
/*Function: 显示n个16*16汉字                                                         */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN16n(uint8_t y,uint8_t x,uint8_t n,uint8_t *string)
{
	uint8_t i,j,k;

	x=x*2;
	for(k=0;k<n;k++)
	{
	    for(i=0;i<16;i++)
	    {
	        for(j=0;j<2;j++)
	        {
	           	T6963_SetAddressPointer(j+x+2*k,y*8+i);    
	            T6963_WriteDispData(string[i*2+j+32*k]);    
	        }        
	    }
	}
}
/*===================================================================================*/
/*Function: 显示n个24*24汉字                                                         */
/*Input   :                                                                          */
/*         y : 在y列显示                                                             */
/*         x : 在x行显示                                                             */
/*Output  :None                                                                      */
/*===================================================================================*/
void T6963_DisplayCHN24n(uint8_t y,uint8_t x,uint8_t n,uint8_t *string)
{
	uint8_t i,j,k;
	x=x*2;
	for(k=0;k<n;k++)
	{
	    for(i=0;i<24;i++)
	    {
	        for(j=0;j<3;j++)
	        {
	           	T6963_SetAddressPointer(j+x+3*k,y*8+i);    
	            T6963_WriteDispData(string[i*3+j+72*k]);    
	        }        
	    }
	}
}

//显示满屏图像
void T6963_DispPic(const unsigned char *pic)
{
	uint8_t i,j;

	for(j=0;j<128;j++)
	{
		T6963_SetAddressPointer(0,j+4);  		// 设定指针地址,第四行为图形显示首地址		
		T6963_WriteCMD0(DATA_AUTO_WRITE);  		//Set Data Auto Write		
		for(i=0;i<30;i++)
		{
			T6963_AutoWrite(pic[j*30+i+6]);
		}
		T6963_WriteCMD0(AUTO_RESET);  			// 自动复位
	}

}


//显示二维码
void T6963_DispQR_Code(uint8_t x,uint8_t y,int version,const uint8_t ppixel[][27],uint8_t times)
{
	uint8_t i,j,n=0,line=0;
    uint8_t qr_SideSize;
    
    qr_SideSize = (version-1)*4 +21;
    qr_SideSize = qr_SideSize * times;
    
	for(j=y-qr_SideSize/2;j<y-qr_SideSize/2+qr_SideSize+1;j++)  //行数
	{
		T6963_SetAddressPointer(x-qr_SideSize/2/7,j);  		// 设定指针地址,第四行为图形显示首地址		
		T6963_WriteCMD0(DATA_AUTO_WRITE);  		//Set Data Auto Write		
		for(i=0;i<(qr_SideSize/8+1);i++)        //每行显示的像素字节数
		{
            if(j==y-qr_SideSize/2 || j==y-qr_SideSize/2+qr_SideSize)//第一行或最后一行显示分界线
            {
                if(i!=(qr_SideSize/8))
                {
                    T6963_AutoWrite(0xff);
                }
                else if(i==(qr_SideSize/8))
                {
                    uint8_t tr,flag[]={0xc0,0xe0,0xf0,0xf8,0xf4,0xf2,0xf1};
                    tr = flag[qr_SideSize%8];
                    T6963_AutoWrite(tr);
                }
            }
            else
                T6963_AutoWrite(ppixel[line][i]);
		}
		T6963_WriteCMD0(AUTO_RESET);  			// 自动复位
        n++;
        if(n == times)                          //纵向拉伸倍数 一行多次显示
        {
            line++;
            n = 0;
        }
        if(j==y-qr_SideSize/2)
        {
            n--;
        }        
	}

}
//清屏主显示区域
void MainDispClr(void) //请将充电枪插入y坐标92 
{
	uint8_t i,j;

	for(j=22;j<111;j++)
	{
		T6963_SetAddressPointer(0,j+4);  		// 设定指针地址,第四行为图形显示首地址		
		T6963_WriteCMD0(DATA_AUTO_WRITE);  		//Set Data Auto Write		
		for(i=0;i<30;i++)
		{
			T6963_AutoWrite(0xff);
		}
		T6963_WriteCMD0(AUTO_RESET);  			// 自动复位
	}
}
/*===================================================================================*/
void T6963_SetBit(uint8_t d) 
{
	T6963_WriteCMD0(0xf8|d);
}
/*===================================================================================*/
/*画线                                                                               */
void T6963_Line(uint8_t y00,uint8_t x0,uint8_t y11,uint8_t x1) 
{
	uint8_t  x=x1-x0,y=y11-y00,xx;
	float yy;
	if (x>y) 
    {
	   yy=y00;
	   for (xx=x0;xx<x1;xx++) 
       {
	     	yy+=(float)y/x;
	     	T6963_SetAddressPointer((xx/8),yy);
		 	T6963_SetBit((7-xx&7));
	   }
    } 
    else 
    {
	    yy=x0;
		for (xx=y00;xx<y11;xx++) 
        {
		 	yy+=(float)x/y;
		 	T6963_SetAddressPointer(yy/8,xx);
		 	T6963_SetBit((7-(char)yy&7));
	    }
	}
}


//删除前导零
void dspdelzero(uint8_t *sbuf,uint8_t slen,uint8_t dotpst)
{
	uint8_t i,j=0;
	for(i=0;i<slen;i++)
	{
		if(j!=0)
			break;
		if(dotpst==0)
		{
			if(sbuf[i] == '0' && i < slen-1)
			{
				sbuf[i] = 0x01;							//显示空
			}
			else
				j = 1;
		}
		else
		{
		  	if(sbuf[i] == '0' && i < dotpst -1)
			{
				sbuf[i] = 0x01;							//显示空
			}
			else
				j = 1;
		}
	} 	
}
//BCD码转换成ASCII字符串
void dspdatchg(uint8_t *dstr,uint8_t *sbuf,uint8_t len,uint8_t dotpst)
{
	uint8_t i,temp;
	if(dotpst==0)
	{
        for(i=0;i<len;i++){
            temp = *(sbuf+i);
            if(temp<10)
                *(dstr+i) = temp+'0';
            else if(temp<0x10)
                *(dstr+i) = temp-10+'A';
        }
	}
	else
    {	
        for(i=0;i<len+1;i++){
    		if(i==dotpst)
            {
                *(dstr+i) = '.';						//显示小数点
            }
    		else if(i<dotpst)
            {
                temp = *(sbuf+i);               
            }
    		else
            {
                temp = *(sbuf+i-1);    
            }
            if(temp<10)
                *(dstr+i) = temp+'0';
            else if(temp<0x10)
                *(dstr+i) = temp-10+'A';             
        }  
	}

	dspdelzero(dstr,i,dotpst);							//删除前导零

	*(dstr+i) = '\0';
}

//字符串转换成ASCII字符串
void dspstringASCII(uint8_t *dstr,uint8_t *sbuf,uint8_t len)
{
    uint8_t i;

    for(i=0;i<len;i++){
        if(sbuf[i]<=9)
        {
            dstr[i]=sbuf[i]+0x30;
        }
        else
        {
            dstr[i]=sbuf[i]+0x37;
        }
    }

    
	dspdelzero(dstr,i,0);							//删除前导零

	*(dstr+i) = '\0';
}



//=================================================================================================
//	END OF FILE
//=================================================================================================






